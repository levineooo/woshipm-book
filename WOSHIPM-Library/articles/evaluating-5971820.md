# 深度解构“沙拉食刻”钱包账户模块
{% hint style="info" %}
**Category:** Evaluating
**Author:** [别字君](https://www.woshipm.com/u/374563)
**Published:** 2024-01-08  
**Stats:** 👁️ 2298 views | 💬 5 comments | ⭐ 12 collects
**Tags:** 案例分析,沙拉食刻,账户模块,钱包设计
**Original:** [View on woshipm.com](https://www.woshipm.com/evaluating/5971820.html)
{% endhint %}
> 涉及到金钱的功能，都需要慎之又慎。在设计之前，最好做好充足的竞品调研，理解吃透其设计逻辑之后，再开始下手。这篇文章，作者分析了一款产品的钱包功能中的账户模块，拆解非常详细，希望能帮到大家。

---

## 深度解构“沙拉食刻”钱包账户模块

[![](https://static.woshipm.com/view/woshipm_api_def_20240108093736_7580.jpg?imageView2/1/w/72/h/72/q/100)](https://www.woshipm.com/u/374563)[别字君](https://www.woshipm.com/u/374563) ![](https://static.woshipm.com/tag/1101_1@2x.png)![](https://static.woshipm.com/tag/1501_1@2x.png) 关注2024-01-085 评论 2298 浏览 12 收藏 11 分钟[B端产品经理要负责对目标行业和市场进行深入的分析和调研，了解客户的需求、痛点、期望和行为，找到产品的价值主张 🔗](https://ke.qidianla.com/courses/bcpm)

> 涉及到金钱的功能，都需要慎之又慎。在设计之前，最好做好充足的竞品调研，理解吃透其设计逻辑之后，再开始下手。这篇文章，作者分析了一款产品的钱包功能中的账户模块，拆解非常详细，希望能帮到大家。

![](https://image.woshipm.com/2023/04/13/3aea9c84-d9eb-11ed-9d7a-00163e0b5ff3.jpg)

作为一名产品经理，竞品调研是必不可少的能力之一。通过竞品调研，不仅可以学习其他产品的优秀设计，还可以锻炼自己的分析能力。

最近，我正在设计一套适用于非银行金融企业的钱包账户模块。为此，我研究了一些不同行业中带有“钱包”功能的产品，并选择了我日常使用的“沙拉时刻”进行解构。

## 一、沙拉时刻简介

“沙拉时刻”是一款无人自助售餐机产品，用户可以通过手机选餐下单，然后到对应的自助机凭借订单取餐。其模式就跟自助贩卖机、自助咖啡机和自助橙汁机等产品类似。由于本文不涉及商业分析，因此不再对其模式进行过多介绍。

## 二、钱包账户模式

要解构“沙拉时刻”账户模块，首先需要研究其账户结构以及账户数据结构是什么模式。

### 2.1 账户结构

从小程序端可以看到，该产品有“钱包余额”（后文称为“沙拉钱包”）和“沙拉豆”两个钱包账户。点击“沙拉钱包”后，可以看到该钱包包含“总余额”，以及“充值余额”和“赠送消费金”（后文简称“赠金”）。

![](https://image.woshipm.com/2024/01/07/00882fd2-ad14-11ee-b96e-00163e142b65.jpg)

该沙拉钱包的账户结构有两种设计模式：

*   模式一，在后端表数据设计中，采用母子结构，总余额作为母账户，充值金额和赠金作为子账户。
*   模式二，在后端表数据不设计总余额，只设计充值金额和赠金两个平级账户。用户在小程序中看到的总余额，由前端将上述两个账户余额相加计算得出。

![](https://image.woshipm.com/2024/01/07/11c2e508-ad14-11ee-9490-00163e0b5ff3.jpg)

从余额明细点进去看到的流水可以确定，该产品采用的是账户结构模式一，因为流水记录的是总余额的流水，而不是充值金额和赠金的流水。

![](https://image.woshipm.com/2024/01/07/296207a2-ad14-11ee-b96e-00163e142b65.jpg)

### 2.2 账户数据模式

基于账户结构模式一进一步分析，账户的数据模式还可分为“单账户数据多字段模式”和“多账户数据模式”，分别如下：

[![](https://image.woshipm.com/2023/08/02/1554eea8-30e3-11ee-88e7-00163e0b5ff3.png)B端产品经理的能力模型与学习提升B端产品经理面临的第一大挑战，是如何正确的分析诊断业务问题。 这也是最难的部分，产品设计知识对这部分工作基本没有帮助，如果想做好业务分析诊断，必须具备扎实 ...查看详情 >](https://ke.qidianla.com/courses/bcpm)

**单账户数据多字段模式**

![](https://image.woshipm.com/2024/01/07/3ec8e48a-ad14-11ee-b96e-00163e142b65.jpg)

好处是设计简单，维护方便，数据量相对较少。坏处是当业务量蓬勃发展后，无法精准统计某段时间内用户使用的“赠金”金额。

**多账户数据模式**

![](https://image.woshipm.com/2024/01/07/49eec956-ad14-11ee-b96e-00163e142b65.jpg)

好处是每个账户都可以清晰记录流水，各自进行对账，扩展性和复用性也高。

由于在“沙拉时刻”小程序中没有找到充值金额账户和赠金账户的流水记录，因此，假定该产品采用的是“单账户数据多字段”模式。

### 2.3 解构“账户管理”表

至此，我们可以解构出该产品背后的简单“账户管理”表。

![](https://image.woshipm.com/2024/01/07/66953a2c-ad14-11ee-826f-00163e0b5ff3.jpg)

若心细如丝的友人，或许仍记得前文所提及的“沙拉豆”账户。该账户的主要作用在于用户运营，以增强用户粘性。

![](https://image.woshipm.com/2024/01/07/7bd8ea82-ad14-11ee-9c9e-00163e142b65.jpg)

从系统角度出发，可以单独开发一个积分模块。但实质上，它可被视作账户模块下的一个“积分账户”。为使其与这种设计相兼容，我们可对“账户管理”表进行如下修改：

*   新增一个字段“账户类型名称”，用于标识每个用户名下的不同类型账户。
*   将沙拉钱包账户 ID 抽象为公用字段，改名为账户 ID。不同类型的账户可采用不同的 ID 规则。

通过这种方式，后续设计的入账、流水、统计等功能无论是用于“沙拉钱包”还是“沙拉豆积分”都可以共用。如此，便能实现账户体系的统一性和灵活性。

![](https://image.woshipm.com/2024/01/07/b2bc7ece-ad14-11ee-bc18-00163e142b65.jpg)

## 三、钱包账户流水

### 3.1 流水的分类

从余额流水明细中可以看出，该产品将流水分为充值、消费、退款和其他几种类型。

![](https://image.woshipm.com/2024/01/07/c8eee718-ad14-11ee-bb1e-00163e0b5ff3.jpg)

如果进一步细分，其实还可以增加充值退款和提现这两种类型，不过由于该产品在小程序端不开放充值退款和提现功能，因此可能没有设计这两种流水类型。

分类流水的好处如下

*   方便财务和运营管理，每种分类都代表了不同的交易类型，使用户能够更清晰地了解资金的流入和流出情况。
*   公司经营维度，分类流水提供了详细的收入和支出数据，便于进行分析。可以了解充值和消费的趋势，找出高消费项或异常支出，从而进行必要的调整和优化。
*   提升用户体验和透明度，分类流水记录用户可以更清楚地了解自己的交易历史，包括充值、消费、退款和提现等情况。

### 3.2 流水的组成

我们继续看每一条流水明细，分别由以下几部分组成

*   A.流水名称：表示这一笔流水的业务场景。
*   B.流水交易时间：指这笔流水的发生时间。
*   C.流水交易金额：代表本次交易的发生金额
*   D.余额：这里的余额其实指的是这个钱包账户发生本次交易之后剩下多少余额。流水记录发生交易后的余额提供了透明度、可追溯性（方便事后校验和排查问题），其次在某些情况下，流水记录中的余额信息可能对税务申报和合规性要求有用。

![](https://image.woshipm.com/2024/01/07/e965ad74-ad14-11ee-826f-00163e0b5ff3.jpg)

### 3.3 解构“账户流水”表

按照上述流水明细组成，结合以下思路“什么时间，哪个用户的哪个账户，发生了什么交易，交易金额是多少，以及交易钱包账户余额是多少”，不难解构出以下账户流水表。

![](https://image.woshipm.com/2024/01/07/f8f0d2aa-ad14-11ee-bb1e-00163e0b5ff3.jpg)

可以看到上表还有一个创建人和备注，其实是用于记录特殊情况流水的发生背景和操作人，方便事后业务核实。

其次上文曾提及过，“总余额”其实包含了“充值金额”和“赠金”，“单账户数据模式”不方便精准统计“充值金额”和“赠金”的消费情况，因为他们没有各自单独记录的流水。

因此我们可以在“总余额”流水里面，再增加记录多2个字段，分别是“充值金交易金额”和“赠金交易金额”，以满足精准统计的需求。

### 3.4 流水的统计

为了方便用户查看每个月在“沙拉钱包”中的充值和消费金额，余额明细页面还设计了按月筛选和按月统计的功能。

![](https://image.woshipm.com/2024/01/07/0b3da802-ad15-11ee-826f-00163e0b5ff3.jpg)

程序实现该功能有两种方法：第一种是在进入页面后实时进行汇总计算；另一种是事先将统计数据持久化到数据库中。

如果采用第一种方法，需要让技术人员考虑后期用户数量增加和数据量增大的问题，评估请求量和计算量，以确保服务的稳定性。

本次解构到此结束。如果有更多感兴趣的小伙伴，我们将继续解构入账、充值、交易等功能。

本文由 @别字君 原创发布于人人都是产品经理。未经作者许可，禁止转载。

题图来自Unsplash，基于CC0协议。

该文观点仅代表作者本人，人人都是产品经理平台仅提供信息存储空间服务。

赞赏 收藏已收藏12 点赞已赞5更多精彩内容，请关注人人都是产品经理微信公众号或下载App[案例分析](https://www.woshipm.com/tag/%e6%a1%88%e4%be%8b%e5%88%86%e6%9e%90)[沙拉食刻](https://www.woshipm.com/tag/%e6%b2%99%e6%8b%89%e9%a3%9f%e5%88%bb)[账户模块](https://www.woshipm.com/tag/%e8%b4%a6%e6%88%b7%e6%a8%a1%e5%9d%97)[钱包设计](https://www.woshipm.com/tag/%e9%92%b1%e5%8c%85%e8%ae%be%e8%ae%a1)[分享到微博](https://service.weibo.com/share/share.php?appkey=2775287854&title=深度解构“沙拉食刻”钱包账户模块&url=https://www.woshipm.com/evaluating/5971820.html&pic=https://image.woshipm.com/2023/04/13/3aea9c84-d9eb-11ed-9d7a-00163e0b5ff3.jpg)微信扫一扫![微信二维码](https://api.pwmqr.com/qrcode/create/?url=https://www.woshipm.com/evaluating/5971820.html)分享