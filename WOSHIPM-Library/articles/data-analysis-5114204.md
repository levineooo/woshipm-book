# Martech营销自动化之归因分析
{% hint style="info" %}
**Category:** Data-analysis
**Author:** [直隶按察使](https://www.woshipm.com/u/1087864)
**Published:** 2021-09-22  
**Stats:** 👁️ 6714 views | 💬 2 comments | ⭐ 32 collects
**Tags:** 2年,Martech营销自动化,初级,归因分析
**Original:** [View on woshipm.com](https://www.woshipm.com/data-analysis/5114204.html)
{% endhint %}
> 编辑导语：当一个消费者完成多触点消费旅程后，品牌分不清究竟是哪个渠道的功劳。面临多渠道消费，企业该如何选择一种有效的渠道评估手段？作者分享了两类常见的归因分析：规则归因和算法归因，帮助我们更好地进行渠道评估，一起来看下。

---

## Martech营销自动化之归因分析

[![](https://static.woshipm.com/APP_U_202204_20220420231527_477.jpeg?imageView2/1/w/72/h/72/q/100)](https://www.woshipm.com/u/1087864)[直隶按察使](https://www.woshipm.com/u/1087864) ![](https://static.woshipm.com/tag/1101_1@2x.png) 关注2021-09-222 评论 6714 浏览 32 收藏 14 分钟[🔗 B端产品经理需要更多地关注客户的商业需求、痛点、预算、决策流程等，而C端产品经理需要更多地关注用户的个人需求](https://ke.qidianla.com/courses/bcpm)

> 编辑导语：当一个消费者完成多触点消费旅程后，品牌分不清究竟是哪个渠道的功劳。面临多渠道消费，企业该如何选择一种有效的渠道评估手段？作者分享了两类常见的归因分析：规则归因和算法归因，帮助我们更好地进行渠道评估，一起来看下。

![](https://image.woshipm.com/wp-files/2021/09/mYZFLaHWsmyulCl0DZAK.jpg)

企业在做全渠道营销时，希望找到一种简单、有效的方式来评估渠道质量，以此为依据来动态优化资源投放优先级。一般企业用渠道点击率或转化金额来直接评估渠道质量，这也是最容易理解、操作最简单的一种渠道质量评估手段。当面临的渠道越来越多时，怎样才是一种有效的渠道评估手段呢？

首先，看一下某品牌典型的全渠道用户旅程：

![](https://image.woshipm.com/wp-files/2021/08/2tEaUmRAdpAXKwbD9bMf.jpeg)

一个消费者在朋友圈看到品牌发布的广告，点击查看了广告详情；第二天，他访问了品牌的微信公众号，了解了更多信息；接下来多次访问了品牌微商城，并到就近门店体验后领取了一张优惠券，最后下载了品牌 APP 并使用优惠券完成下单。

这样一个多触点消费者旅程在当下全渠道品牌企业中非常普遍，但品牌一直有一个疑问，最终这一笔转化的功劳到底如何算到到各个渠道呢？

**归因分析就是为解决这一类问题而生的，只有算清楚了各渠道贡献度，才能把有限的市场费用投入得恰到好处，带来更大的收益。**

常见有两类归因分析：规则归因和算法归因。

## 一、规则归因：基于人工的启发式归因分析

规则归因是一种基于运营人员经验的归因手段，带有比较明显的主观判断，可能因为运营的选择带来完全不同的结果。主要包括如下：

![](https://image.woshipm.com/wp-files/2021/08/7zkszEqSULYa5Ugra7A8.jpeg)

### 1\. 末归因

在这几个规则模型中，末归因应用最广，也最容易理解。100% 功劳计算在最终转化渠道。稍微思考一下会发现末归因有一些问题。以足球队为类比，渠道就是球员，每个球员都为最终获胜做出了贡献，但奖金只发给临门一脚的人，这显然是不公平的，会导致所有球员争抢临门一脚，不愿意配合，会导致整体能力退化。

这种规则适用于转化路径比较短，渠道比较单一的业务，触达既转化，这是符合广告初衷的，希望每一次都是临门一脚，亚马逊广告采用的就是这种模型。

### 2\. 首归因

第一个渠道获得 100% 的功劳。类比足球比赛中每一次进攻发起者获得所有功劳，奖金只发给发起进攻的人，这显然也不是很公平。

这个模型侧重于引流，强调获客，适用于知名度低、新品牌建设和产品推广初期进行归因分析。比较有经验的新锐品牌创始人在推广产品初期非常喜欢用这种模型评估各个渠道价值，以此来加大渠道投入。

### 3\. 线性归因

每个渠道平均分配 100% 的功劳。类比球场上每个球员不管贡献大小，平分奖金。这种模型也明显具有弊端，容易造成吃大锅饭，某些渠道的作用被夸大，同时某些渠道的作用被低估。**相比前两种模型，线性归因最大优点是一个多触点归因模型，可以将功劳划分给每个不同阶段的营销渠道。**

线性归因不适用于某些渠道价值特别突出的业务。比如，一个消费者在线下门店体验了商品，然后回家搜索，连续三天都通过微商城了解商品信息，并在第四天成交。那么按照线性归因模型，微商城会分配到 75% 的权重，而线下门店只得到了 25% 的权重，这种情况线下门店的重要性便被忽视了。

根据线性归因模型的特点，更适用于品牌期望在整个消费者生命周期内保持与客户的联系，并维持品牌忠诚度的公司，比如一些决策周期长，购买频率低的商品。这种情况各个渠道在消费者转化过程中起到相同的促进作用。

### 4\. 时间衰减归因

越靠近转化时间的渠道功劳越大，这个模型兼顾了末归因优点同时兼顾了之前各个渠道的贡献，相比线性归因模型的平均分配，时间衰减模型让不同渠道得到了不同的权重，符合生活经验和思维模式，容易被接受。

当然时间衰减模型问题是，在漏洞顶部的营销渠道永远得不到高分，因为它们总是距离转化最远的那个，这样就会忽略某些渠道在业务增长中的重要性。

根据时间衰减模型的特点，更适用于消费决策周期短、销售周期短的商品。比如，做短期促销、快闪店等，就做了两天的营销，那么这两天的渠道应获得更高的功劳。

### 5\. 原始归因

这种模型就不解释了，基本没人用。

## 二、算法归因：基于数据驱动的全局概率归因分析

以上这些规则归因都是基于一系列人工规则，独立看每一次转化，进行功劳分配，再把相同渠道的功劳相加，得到每个渠道功劳。而随着大数据和机器学习的发展，一种新的归因手段逐渐发展，这就是算法归因，也叫数据驱动归因（DDA）。与人工规则最大的不同是，算法归因站在整个转化大数据的基础上，全局的看各渠道与最终转化的关系，自动生成更加客观，更加实证和科学的归因结果。

在许多的算法归因模型中，有两种算法归因效果十分显著，夏普利值归因（Shapley Value Attribution）和马尔科夫链归因（Markov-Chain Attribution），两种算法的差别如下：

**相同点：都是基于全局视角，理清关系后求整体的渠道影响力。**

不同点：马尔科夫链更加突出转化路径中各个渠道的先后顺序，而沙普利值的计算只需知道有哪些渠道参与了转化，对于数据量大，渠道多的业务，沙普利值的算力要求会小一些。比如谷歌就采用了沙普利值归因。

本文会重点介绍马尔科夫链归因。

![](https://image.woshipm.com/wp-files/2021/08/zjYvrjBwimqhi3iwlK6v.png)

数学家-安德雷·马尔科夫

战斗民族的数学家安德雷.马尔科夫对决策的贡献普遍应用到了归因上，下面举一个例子说明多渠道下马尔科夫链的计算过程：

假设某品牌做了一次营销活动，在朋友圈（P），抖音（O），门店（S）三个渠道一共产生了八次互动，其中两个转化（C），两个未转化（N）。

第一步：把三个渠道的八次互动画成以下 4 条路径。

![](https://image.woshipm.com/wp-files/2021/09/rAJylPSf3qTNYYM1eKwt.png)

第二步：把路径拆成对子。

![](https://image.woshipm.com/wp-files/2021/09/FKzhXZZ6VqTERRXsBTOG.png)

第三步：根据每个节点到其他节点的概率我们可以画下面这张全路径概率图——决策树。

![](https://image.woshipm.com/wp-files/2021/08/5CVE4RFbgsJv6rC9IWky.jpeg)

第四步，计算出决策树中 C 的概率。

由于决策树里有三条路径中含有无限循环 PS，在计算 TOT2、TOT3、TOT4 时需要用无限等比数列求和公式，Sum = a / ( 1 – q )，计算过程省略，最后得到 C 概率 TOT 为 4/7。

![](https://image.woshipm.com/wp-files/2021/08/LeUdvpklJkXi3Ycrzofm.jpeg)

第五步，利用损失效应，衡量每个渠道对于 C 概率的影响，也就是衡量渠道的重要性。

把 P 去掉，决策树如下：

![](https://image.woshipm.com/wp-files/2021/08/Mx0KQKZ1dtIUlBXU7N6y.jpeg)

P 不存在，则 S 也无法实现转化。转化只能通过 StarOC ，转化概率从原始的 4 / 7 降到 1 / 8，因此 P 在转化率中的 attribution 应该是 1 – ( 1 / 8 ) / ( 4 / 7 ) = 25 / 32。

把 O 去掉，决策树如下：

![](https://image.woshipm.com/wp-files/2021/08/wcxjaWeI7IbmL9zX7mxE.jpeg)

![](https://image.woshipm.com/wp-files/2021/08/7eeEBRTqZDvsOij0EvZN.jpeg)

O不存在，路径只剩下 TOT3 和 TOT 4，TOT = 11 / 28，转化概率从原始的 4 / 7 降到 11 / 28，因此 O 在转化率中的 attribution 应该是 1 – ( 11 / 28 ) / ( 4 / 7 ) = 5 / 16。

把 S 去掉，决策树如下：

![](https://image.woshipm.com/wp-files/2021/08/Mdp7ltQ5tCIeeoY4zrWe.jpeg)

![](https://image.woshipm.com/wp-files/2021/08/1AkgHwW4oY8lL8V9cqGR.jpeg)

S不存在，只剩下以上几条路径，TOT = 1/4。转化概率从原始的 4 / 7 降到 1 / 4 因此 S 在转化率中的 attribution 应该是1 – ( 1 / 4 ) / ( 4 / 7 ) = 9 / 16。

综上汇总，按照马尔科夫链归因三个渠道的 attribution 如下：

P : O : S = 25 : 10 : 18

对比规则归因的三种模型结果：

**（1）按照首归因**

P : O : S = 0 : 0 : 2

**（2）按照末归因**

P : O : S = 1 : 1 : 0

**（3）按照线性归因**

P : O : S = 5 : 2 : 5

首归因，完全忽略了 P 和 O 渠道的贡献，高估了 S；末归因则相反，完全忽略渠道 S 的贡献；线性归因虽然三个渠道都考虑到，但实际上高估了渠道 S 的贡献。

**案例：**

最后用 Python 对一份网上找到真实数据进行计算，其中包括 1 w 条互动路径、转化数、转化金额、无转化数，实际看一下马尔科夫链算法归因的效果。

以下为原始数据和代码截图：

![](https://image.woshipm.com/wp-files/2021/08/AHYkTVpOzhTKyyRkmemJ.jpeg)

![](https://image.woshipm.com/wp-files/2021/08/KTinfxL7B8tyVyYTZLTo.png)

以下为首归因、末归因、线性归因、马尔科夫链对转化次数归因的对比：

![](https://image.woshipm.com/wp-files/2021/08/EElCQ8qFotr3ilf2vIg9.jpeg)

以下为首归因、末归因、线性归因、马尔科夫链对转化金额归因的对比：

![](https://image.woshipm.com/wp-files/2021/08/EhMOjbuOx7aRYgARCAvS.jpeg)

作者：刘生，公众号：直隶暗察史

本文由 @刘生 原创发布于人人都是产品经理。未经许可，禁止转载

题图来自Unsplash，基于CC0协议

赞赏 收藏已收藏32 点赞已赞7更多精彩内容，请关注人人都是产品经理微信公众号或下载App[2年](https://www.woshipm.com/tag/2%e5%b9%b4)[Martech营销自动化](https://www.woshipm.com/tag/martech%e8%90%a5%e9%94%80%e8%87%aa%e5%8a%a8%e5%8c%96)[初级](https://www.woshipm.com/tag/%e5%88%9d%e7%ba%a7)[归因分析](https://www.woshipm.com/tag/%e5%bd%92%e5%9b%a0%e5%88%86%e6%9e%90)[分享到微博](https://service.weibo.com/share/share.php?appkey=2775287854&title=Martech营销自动化之归因分析&url=https://www.woshipm.com/data-analysis/5114204.html&pic=https://image.woshipm.com/wp-files/2021/09/mYZFLaHWsmyulCl0DZAK.jpg)微信扫一扫![微信二维码](https://api.pwmqr.com/qrcode/create/?url=https://www.woshipm.com/data-analysis/5114204.html)分享